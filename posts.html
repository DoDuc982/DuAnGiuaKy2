<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Posts</title>
  <link rel="stylesheet" href="./assets/css/stylePosts.css" />
</head>

<body>
  <div id="nav-sidebar">
    <div>
      <img src="./img/319366499_1783968175295532_2599977993477315971_n.jpg" alt="" style="
            height: 40px;
            width: 40px;
            align-self: center;
            border-radius: 15px;
            margin-left: 15px;
          " />
      <p>Đỗ Tuấn Đức</p>
      <div id="arrow">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="15px"
          width="15px" version="1.1" id="Capa_1" viewBox="0 0 25.451 25.451" xml:space="preserve">
          <g>
            <g id="c185_triangle">
              <path
                d="M20.982,0.521v2.006L8.57,12.315c-0.121,0.101-0.195,0.251-0.195,0.41s0.074,0.311,0.195,0.41l12.412,9.79v2.005    c0,0.199-0.115,0.383-0.297,0.469c-0.178,0.086-0.395,0.064-0.549-0.061L4.664,13.136c-0.122-0.1-0.194-0.251-0.194-0.41    s0.072-0.31,0.194-0.41L20.136,0.113c0.154-0.126,0.371-0.148,0.549-0.061C20.866,0.139,20.982,0.322,20.982,0.521z" />
            </g>
            <g id="Capa_1_58_"></g>
          </g>
        </svg>
      </div>
    </div>
    <div id="nav">
      <div class="function" style="display: flex; cursor: pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="18px" height="18px" viewBox="0 0 24 24"
          style="margin-left: 20px">
          <path
            d="M10.035,18.069a7.981,7.981,0,0,0,3.938-1.035l3.332,3.332a2.164,2.164,0,0,0,3.061-3.061l-3.332-3.332A8.032,8.032,0,0,0,4.354,4.354a8.034,8.034,0,0,0,5.681,13.715ZM5.768,5.768A6.033,6.033,0,1,1,4,10.035,5.989,5.989,0,0,1,5.768,5.768Z" />
        </svg>
        <p>Search</p>
      </div>
      <div class="function" style="display: flex; cursor: pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 24 24" fill="none"
          style="margin-left: 18px">
          <path
            d="M18.4721 16.7023C17.3398 18.2608 15.6831 19.3584 13.8064 19.7934C11.9297 20.2284 9.95909 19.9716 8.25656 19.0701C6.55404 18.1687 5.23397 16.6832 4.53889 14.8865C3.84381 13.0898 3.82039 11.1027 4.47295 9.29011C5.12551 7.47756 6.41021 5.96135 8.09103 5.02005C9.77184 4.07875 11.7359 3.77558 13.6223 4.16623C15.5087 4.55689 17.1908 5.61514 18.3596 7.14656C19.5283 8.67797 20.1052 10.5797 19.9842 12.5023M19.9842 12.5023L21.4842 11.0023M19.9842 12.5023L18.4842 11.0023"
            stroke="#000000" stroke-width="2" />
          <path d="M12 8V12L15 15" stroke="#000000" stroke-width="2" />
        </svg>
        <p style="margin-left: 10px">Update</p>
      </div>
      <div class="function" style="display: flex; cursor: pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 24 24" fill="none"
          style="margin-left: 18px">
          <path
            d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
            stroke="#000000" stroke-width="2" stroke-miterlimit="3" stroke-linecap="round" stroke-linejoin="round" />
          <path
            d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z"
            stroke="#000000" stroke-width="3" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <p style="margin-left: 10px">Settings</p>
      </div>
    </div>
  </div>
  <div id="content">
    <div id="banner">
      <p>
        Cảm ơn đã sử dụng trang web của chúng tôi để viết các bài chia sẻ về
        cuộc sống của bạn
      </p>
    </div>
    <div id="nav-nav">
      <div id = "menu">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="20px" width="20px" version="1.1" id="Layer_1" viewBox="0 0 297 297" xml:space="preserve">
<g>
	<g>
		<g>
			<path d="M279.368,24.726H102.992c-9.722,0-17.632,7.91-17.632,17.632V67.92c0,9.722,7.91,17.632,17.632,17.632h176.376     c9.722,0,17.632-7.91,17.632-17.632V42.358C297,32.636,289.09,24.726,279.368,24.726z"/>
			<path d="M279.368,118.087H102.992c-9.722,0-17.632,7.91-17.632,17.632v25.562c0,9.722,7.91,17.632,17.632,17.632h176.376     c9.722,0,17.632-7.91,17.632-17.632v-25.562C297,125.997,289.09,118.087,279.368,118.087z"/>
			<path d="M279.368,211.448H102.992c-9.722,0-17.632,7.91-17.632,17.633v25.561c0,9.722,7.91,17.632,17.632,17.632h176.376     c9.722,0,17.632-7.91,17.632-17.632v-25.561C297,219.358,289.09,211.448,279.368,211.448z"/>
			<path d="M45.965,24.726H17.632C7.91,24.726,0,32.636,0,42.358V67.92c0,9.722,7.91,17.632,17.632,17.632h28.333     c9.722,0,17.632-7.91,17.632-17.632V42.358C63.597,32.636,55.687,24.726,45.965,24.726z"/>
			<path d="M45.965,118.087H17.632C7.91,118.087,0,125.997,0,135.719v25.562c0,9.722,7.91,17.632,17.632,17.632h28.333     c9.722,0,17.632-7.91,17.632-17.632v-25.562C63.597,125.997,55.687,118.087,45.965,118.087z"/>
			<path d="M45.965,211.448H17.632C7.91,211.448,0,219.358,0,229.081v25.561c0,9.722,7.91,17.632,17.632,17.632h28.333     c9.722,0,17.632-7.91,17.632-17.632v-25.561C63.597,219.358,55.687,211.448,45.965,211.448z"/>
		</g>
	</g>
</g>
</svg>
      </div>
      <div class="nav-nav-function">
        <a href="#">Trang chủ</a>
      </div>
      <div class="nav-nav-function">
        <a href="#">Bài viết</a>
      </div>
      <div class="nav-nav-function">
        <a href="about.html">Giới thiệu</a>
      </div>
      <div class="nav-nav-function">
        <a href="#">Ủng hộ</a>
      </div>
    </div>
    <div id="noidung">
      <div id="bang">
        
      </div>
      <script>
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            var data = JSON.parse(this.responseText);
            console.log(data);
            var bang = document.getElementById("bang");
            const svg = `
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"
       height="20px" width="20px" version="1.1" id="Capa_1" viewBox="0 0 471.701 471.701" xml:space="preserve">
    <g>
      <path d="M433.601,67.001c-24.7-24.7-57.4-38.2-92.3-38.2s-67.7,13.6-92.4,38.3l-12.9,12.9l-13.1-13.1   c-24.7-24.7-57.6-38.4-92.5-38.4c-34.8,0-67.6,13.6-92.2,38.2c-24.7,24.7-38.3,57.5-38.2,92.4c0,34.9,13.7,67.6,38.4,92.3   l187.8,187.8c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-3.9l188.2-187.5c24.7-24.7,38.3-57.5,38.3-92.4   C471.801,124.501,458.301,91.701,433.601,67.001z M414.401,232.701l-178.7,178l-178.3-178.3c-19.6-19.6-30.4-45.6-30.4-73.3   s10.7-53.7,30.3-73.2c19.5-19.5,45.5-30.3,73.1-30.3c27.7,0,53.8,10.8,73.4,30.4l22.6,22.6c5.3,5.3,13.8,5.3,19.1,0l22.4-22.4   c19.6-19.6,45.7-30.4,73.3-30.4c27.6,0,53.6,10.8,73.2,30.3c19.6,19.6,30.3,45.6,30.3,73.3   C444.801,187.101,434.001,213.101,414.401,232.701z" />
    </g>
  </svg>
`;

            // Lưu đoạn mã SVG vào biến mySvg
            const mySvg = document.createRange().createContextualFragment(svg).querySelector('svg');
            data.posts.forEach(post => {
              var noidungbaiviet = document.createElement("div");
              noidungbaiviet.className = "noidungbaiviet";
              //top content
              var topct = document.createElement("div");
              topct.classList.add("topct");

              var chude = document.createElement("h2");
              chude.classList.add("chude");
              chude.appendChild(document.createTextNode(post.title));
              topct.appendChild(chude);

              var email = document.createElement("h2");
              email.appendChild(document.createTextNode(post.email));
              topct.appendChild(email);
              //xử lý ngày tháng
              var ngaydang = document.createElement("h2");
              const date = new Date(post.postDate);
              const day = date.getDate();
              const month = date.getMonth() + 1;
              const year = date.getFullYear();
              const formattedDate = `${day}/${month}/${year}`;
              ngaydang.appendChild(document.createTextNode(formattedDate));
              console.log(formattedDate);
              topct.appendChild(ngaydang);

              noidungbaiviet.appendChild(topct);
              //content
              var content = document.createElement("p");
              content.appendChild(document.createTextNode(post.content));
              noidungbaiviet.appendChild(content);

              //reactions
              var reactions = document.createElement("div");
              reactions.classList.add("reactions");

              var span = document.createElement("span");
              span.appendChild(document.createTextNode(post.reactions));
              reactions.appendChild(span);
              noidungbaiviet.appendChild(reactions);
              bang.appendChild(noidungbaiviet);

            });
            var reactionsElements = document.querySelectorAll(".reactions");
            var i = 0;
            reactionsElements.forEach(reaction => {
              i++;
              mySvg.id = "svg" + i;
              reaction.appendChild(mySvg.cloneNode(true));
              var x = document.getElementById("svg" + i);
              x.addEventListener("click", function () {
                x.setAttribute("fill", "red");
              });

            });
            hide = document.getElementById("arrow");
            hide.addEventListener("click",function(){
              var side = document.getElementById("nav-sidebar");
              side.style.display = "none";
            });
            show = document.getElementById("menu");
            show.addEventListener("click",function(){
              var side = document.getElementById("nav-sidebar");
              side.style.display = "flex";
            });
          }
        };
        xhttp.open(
          "GET",
          "https://db-cntt1165-default-rtdb.asia-southeast1.firebasedatabase.app/.json",
          true
        );
        xhttp.send();
      </script>

      <script>

      </script>
    </div>
</body>

</html>